 % !TeX encoding = ISO-8859-1
 \chapter{RIOT-Overview}
 \label{chap:overview}
 
 \section{Übersicht über RIOT}
 
 RIOT ist ein Open Source-Mikrokernel-basiertes Betriebssystem, das auf die Anforderungen von IOT-Geräten und anderen eingebetteten Geräten abgestimmt ist. Diese Anforderungen umfassen einen sehr geringen Speicherbedarf (in der Größenordnung von einigen Kilobytes), eine hohe Energieeffizienz, Echtzeitfähigkeiten, Kommunikationsstapel für sowohl drahtlose als auch drahtgebundene Netzwerke und Unterstützung für eine breite Palette von Niedrigleistungs-Hardware.
 RIOT stellt einen Mikrokernel, mehrere Netzwerkstapel und Dienstprogramme bereit, die kryptografische Bibliotheken, Datenstrukturen (Blütenfilter, Hash-Tabellen, Prioritäts-Warteschlangen), eine Shell und vieles mehr umfassen. RIOT unterstützt eine breite Palette von Mikrocontroller-Architekturen, Radiotreibern, Sensoren und Konfigurationen für ganze Plattformen, z.B. Atmel SAM R21 Xplained Pro, Zolertia Z1, STM32 Discovery Boards etc. (siehe Liste der unterstützten Hardware) Über alle unterstützten Hardware (32-Bit-, 16-Bit- und 8-Bit-Plattformen) RIOT bietet eine konsistente API und ermöglicht ANSI C und C ++ Anwendungsprogrammierung, mit Multithreading, IPC, System-Timer, Mutexes ect.
 
 Es ist unter der LGPL lizenziert und wird von der Freien Universität Berlin, dem Institut national de recherche en informatique et en automatique (INRIA) und der Hochschule für Angewandte Wissenschaften Hamburg entwickelt. Es ist nicht zu verwechseln mit der Datenarchitektur RIoT (für englisch: "Robust Internet of Things", zu deutsch: "robustes Internet der Dinge" des Unternehmens Microsoft.[1])
 
 \vspace{5mm}
 \section{Ziele}
 Das Vorgängerprojekt von RIOT hieß Feuerware und war als Betriebssystem für drahtlose Sensornetzwerke gedacht. Entwickelt wurde es im Rahmen des FeuerWhere Projekts, das Feuerwehrmänner im Einsatz überwachen sollte. 2008 wurde an der Freien Universität Berlin mit der Entwicklung begonnen. Im Jahr 2010 kam es zu einer Abspaltung (Fork) von Feuerware und das Programm wurde in RIOT umbenannt. Damit einhergehend wurde IETF-Protokolle wie etwa 6LoWPAN, RPL und TCP implementiert um es für einen Einsatz im Internet anzupassen. 2013 erfolgte die Umbenennung in RIOT. 
  
  \vspace{10mm}
  \begin{figure}[h]
  	\centering
  	\includegraphics[width=1.0\linewidth]{bilder/RIOT.png}
  	\caption{Übersicht über das RIOT}
  	\label{fig:components}
  \end{figure} 
  \vspace{15mm} 
   
 RIOT-Programme können in C und C++ geschrieben werden. Es ist im Gegensatz zu anderen kleinen Betriebssystemen wie TinyOS echtes Multithreading verfügbar. Für Linux und MacOS existieren native Portierungen, so dass Anwendungen auf dem Computer geschrieben und dann schnell auf echte Hardware portiert werden können, was das Debugging erleichtern soll. Dabei werden Standardwerkzeuge wie GNU Compiler Collection (GCC), GNU Debugger und valgrind benutzt.[3] Aufgrund der Herkunft als Betriebssystem für Sensornetzwerke bei der Feuerwehr ist RIOT echtzeitfähig. Teile des POSIX-Standards sind implementiert.
 Der Quellcode liegt auf GitHub und wird von einer freien Entwickler-Community mitentwickelt.
 
 \vspace{5mm}
 \section{Aufbau}
 
 Dieser Abschnitt führt Sie durch die Struktur von RIOT. Sobald Sie diese Struktur verstehen, verstehen sie den RIOT-Code-Basis.
 
 \vspace{5mm} 
 \begin{figure}[h]
  \centering
  \includegraphics[width=0.8\linewidth]{bilder/RIOT.jpg}
  \caption{Struktur von RIOT}
  \label{fig:components}
 \end{figure}
 \vspace{10mm}

 
 Die Codebasis von RIOT ist in fünf Gruppen eingeteilt.
  
 \vspace{5mm}
 \begin{itemize}
   \item Der Kernel (Core)
   \item Plattformspezifischer Code (CPU)
   \item Gerätetreiber (Drivers)
   \item Bibliotheken und Netzwerk-Code (sys; pkg)
 \end{itemize}
 \vspace{5mm}
  

  
  Anwendungen zur Demonstration von Merkmalen und zum Testen (Beispiele, Tests)
  Darüber hinaus enthält RIOT eine Sammlung von Skripten für verschiedene Aufgaben (dist) sowie eine vordefinierte Umgebung für die Erstellung dieser Dokumentation (doc). Die Strukturgruppen werden auf die Verzeichnisstruktur von RIOT projiziert, wobei jede dieser Gruppen in einem oder zwei Verzeichnissen im Haupt-RIOT-Verzeichnis liegt. Die folgende Liste enthält eine detaillierte Beschreibung der einzelnen Verzeichnisse des RIOT-Verzeichnisses:
  
  
  
  
  Core
  
  Dieses Verzeichnis enthält den eigentlichen Kernel. Der Kernel besteht aus dem Scheduler, der Interprozess-Kommunikation (Messaging), dem Threading, der Threadsynchronisation und den unterstützenden Datenstrukturen und Typdefinitionen.
  
  Weitere Informationen und API-Dokumentationen finden Sie unter Kernel.
  
  Board
  
  Der plattformabhängige Code ist in zwei logische Elemente unterteilt: CPUs und Boards unter Beibehaltung einer strikten 1-zu-n-Beziehung, eine Platine hat genau eine CPU, während eine CPU Teil von n Platinen sein kann. Der CPU-Teil enthält alle generischen, CPU-spezifischen Code (siehe unten).
  
  Der Board-Teil enthält die spezifische Konfiguration für die darin enthaltene CPU. Diese Konfiguration umfasst hauptsächlich die Peripheriekonfiguration und Pin-Mapping, die Konfiguration von On-Board-Geräten und die Taktkonfiguration der CPU.
  
  Zusätzlich zu den Quell- und Header-Dateien, die für jedes Board benötigt werden, kann dieses Verzeichnis zusätzlich einige Skript- und Konfigurationsdateien enthalten, die für die Anbindung an die Platine benötigt werden. Dies sind typischerweise benutzerdefinierte Flash / Debug-Skripts oder z.B. OpenOCD-Konfigurationsdateien. Für die meisten Boards befinden sich diese Dateien in einem entfernten Unterverzeichnis des Boards.
  
  Siehe hier Boards für weitere Informationen.
  
  
  
  
  Zentralprozessor
  
  Für jede unterstützte CPU enthält dieses Verzeichnis ein Unterverzeichnis mit dem Namen der CPU. Diese Verzeichnisse enthalten dann alle CPU-spezifischen Konfigurationen, wie Implementierungen des Energiemanagements (LPM), Interrupt-Handhabung und Vektoren, Startcode, Taktinitialisierungscode und Fadenhandhabungs. Für die meisten CPUs finden Sie auch die Linkerskripte im Unterverzeichnis ldscripts.
  
  Im Periph-Unterverzeichnis jeder CPU finden Sie die Implementierungen der Peripherie-Treiber der CPU wie SPI, UART, GPIO, etc. Siehe Peripheral Driver Interface für ihre API-Dokumentation.
  
  Viele CPUs teilen eine bestimmte Menge ihres Codes haben alle ARM Cortex-M-basierten CPUs denselben Code für Taskwechsel und Interruptbehandlung. Dieser freigegebene Code wird in seine eigenen Verzeichnisse nach einem common-Benennungsschema gelegt. Beispiele hierfür sind Codes, die über Architekturen verteilt sind.
  Für detailliertere Informationen siehe CPU.
  
  Fahrer
  
  Dieses Verzeichnis enthält die Treiber für externe Geräte wie Netzwerkschnittstellen, Sensoren und Aktoren. Jeder Gerätetreiber wird in ein eigenes Unterverzeichnis mit dem Namen des Geräts eingefügt.
  
  Alle Gerätetreiber des RIOT basieren auf der peripheren Treiber-API (z. B. SPI, GPIO usw.) und anderen RIOT-Modulen wie dem xtimer. Auf diese Weise sind die Treiber völlig Plattform agnostisch und sie haben keine Abhängigkeiten in der CPU und Board-Code.
  
  
  
  Sys
  
  RIOT folgt dem Mikrokern-Design-Paradigma, wo alles ein Modul sein soll. Alle diese Module, die nicht Teil der Hardware-Abstraktion oder Gerätetreiber sind, können in diesem Verzeichnis gefunden werden. Die Bibliotheken umfassen Datenstrukturen (z. B. Blüte, Farbe), Kryptobibliotheken (z. B. Hashes, AES), APIs hoher Ebene (z. B. Posix-Implementierungen), Speicherverwaltung (z. B. malloc), die RIOT-Schale und vieles mehr.
  
  Eine vollständige Liste der verfügbaren Bibliotheken finden Sie unter System
  
  Sys / net
  
  Das Unterverzeichnis sys / net muss explizit erwähnt werden, da hier der gesamte Netzwerkcode im RIOT liegt. Hier finden Sie die Netzwerk-Stack-Implementierungen (z. B. den GNRC-Stack) sowie den agnostischen Netzwerk-Stack als Header-Definitionen oder Netzwerk-Typen.
  
  Weitere Informationen zum Netzwerkcodes finden Sie unter Networking.
  
  Pkg
  
  RIOT unterstützt mehrere externe Bibliotheken (z. B. OpenWSN, Microcoap). Die Art, wie sie enthalten sind, ist, dass RIOT mit einem benutzerdefinierten Makefile für jede unterstützte Bibliothek ausgeliefert wird, die die Bibliothek herunterlädt und optional eine Anzahl von Patches anwendet, damit es mit RIOT funktioniert. Diese Makefiles und Patches finden Sie im pkg-Verzeichnis.
  
 \vspace{5mm}
 \section{Unterstütztung}
 


